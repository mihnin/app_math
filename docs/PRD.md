# Product Requirements Document (PRD): «Магическая Карта Знаний» (v1.2)

### 1. Цели и Контекст

* **Цели:**
    * Создать образовательный продукт, который делает изучение таблицы умножения, времен года и часов увлекательным для детей 7-12 лет.
    * Достичь высокого уровня вовлеченности и удержания пользователей за счет игровых механик.
    * Обеспечить реальный образовательный результат, который можно измерить.
    * Обеспечить монетизацию приложения через freemium-модель с подпиской.

* **Контекст:**
    Традиционные методы обучения, основанные на зубрежке, неэффективны для современных детей. «Магическая Карта Знаний» предлагает альтернативу в виде интерактивного приключения, где обучение происходит естественно, в процессе игры и исследования волшебного мира.

* **Журнал изменений:**

| Дата | Версия | Описание | Автор |
| :--- | :--- | :--- | :--- |
| 19.07.2025 | 1.2 | Добавлены инфраструктурные задачи в Эпик 1 по результатам PO-ревью | PM |
| 19.07.2025 | 1.1 | Добавлены требования по монетизации (подписка) | PM |
| 19.07.2025 | 1.0 | Первый черновик документа | PM |

### 2. Требования

#### **Функциональные требования (FR):**
* **FR1:** Приложение должно содержать главный экран в виде интерактивной карты мира.
* **FR2:** Каждая цифра таблицы умножения (от 2 до 9) должна быть представлена на карте в виде уникальной игровой локации с собственной мини-игрой.
* **FR3:** В локации «Роща Сезонов» пользователь должен иметь возможность изменять текущий сезон.
* **FR4:** В локации «Башня Времени» пользователь должен поэтапно изучать часы и время.
* **FR5:** Приложение должно включать систему наград (раскрашивание мира).
* **FR6:** Должен быть реализован режим итоговой проверки знаний.
* **FR7:** Часть контента (локации для цифр 2-4) должна быть доступна бесплатно.
* **FR8:** Для доступа к полному контенту пользователь должен оформить подписку.
* **FR9:** В приложении должен быть экран с информацией о подписке.
* **FR10:** Приложение должно интегрироваться с системой биллинга RuStore.

#### **Нефункциональные требования (NFR):**
* **NFR1:** Приложение должно быть разработано на кросс-платформенном фреймворке.
* **NFR2:** Пользовательский интерфейс должен быть интуитивно понятен для детей 7-12 лет.
* **NFR3:** Основной обучающий функционал должен быть доступен в оффлайн-режиме.
* **NFR4:** В приложении не должно быть сторонней рекламы.
* **NFR5:** Все операции, связанные с платежами, должны быть безопасными.

### 3. Цели дизайна пользовательского интерфейса (UI/UX)
* **Основные экраны:**
    1.  Главный экран (Карта Мира)
    2.  Экран Локации (Мини-игра)
    3.  Экран «Рощи Сезонов»
    4.  Экран «Башни Времени»
    5.  Экран достижений/наград
    6.  Экран Подписки

### 4. Технические предположения
* **Структура репозитория:** Monorepo.
* **Архитектура сервисов:** Serverless.
* **Требования к тестированию:** Юнит- и интеграционные тесты.

### 5. Список Эпиков
* **Эпик 1:** Фундамент и Основное Приключение (Таблица Умножения)
* **Эпик 2:** Расширение Мира (Время и Сезоны)
* **Эпик 3:** Монетизация и Премиум-доступ

### 6. Детализация Эпиков и Историй

#### **Эпик 1: Фундамент и Основное Приключение (Таблица Умножения)**
**Цель:** Заложить техническую и инфраструктурную основу приложения и реализовать полный, увлекательный опыт изучения таблицы умножения.

* **История 1.1: Подготовка инфраструктуры и сервисов**
    * **Как** разработчик, **я хочу** создать и настроить все необходимые внешние аккаунты и базовые облачные ресурсы, **чтобы** обеспечить основу для CI/CD и развертывания.
* **История 1.2: Настройка CI/CD**
    * **Как** разработчик, **я хочу** настроить базовый CI/CD пайплайн, **чтобы** автоматически собирать API и мобильное приложение при каждом изменении в коде.
* **История 1.3: Интеграция SDK Аналитики**
    * **Как** разработчик, **я хочу** интегрировать в приложение SDK для сбора аналитики (Yandex AppMetrica), **чтобы** мы могли измерять метрики успеха MVP.
* **История 1.4: Настройка проекта**
    * **Как** разработчик, **я хочу** настроить базовую структуру кросс-платформенного проекта, **чтобы** у нас был стабильный фундамент для дальнейшей разработки.
* **История 1.5: Экран Карты Мира**
    * **Как** игрок, **я хочу** видеть главный экран с картой мира и доступными локациями, **чтобы** я мог понимать свое путешествие и выбирать, куда отправиться.
* **История 1.6: Локация для цифры 2 («Зеркальное Озеро»)**
    * **Как** игрок, **я хочу** пройти мини-игру «найди пару», **чтобы** выучить таблицу умножения на 2.
* **(Аналогичные истории для локаций 3, 4, 5, 6, 7, 8, 9)**
* **История 1.15: Награда за Прогресс**
    * **Как** игрок, **я хочу** видеть, как мир вокруг меня становится цветным после прохождения локации, **чтобы** чувствовать удовлетворение от своих достижений.

#### **Эпик 2: Расширение Мира (Время и Сезоны)**
**Цель:** Добавить в игру две большие обучающие локации для изучения времен года и часов.

* **История 2.1: Вход в Рощу Сезонов**
    * **Как** игрок, **я хочу** войти в локацию «Роща Сезонов» с главной карты, **чтобы** начать изучение времен года.
* **История 2.2: Механика смены сезона**
    * **Как** игрок, **я хочу** выполнить интерактивное задание (например, поиск предметов), **чтобы** сменить время года в роще и увидеть ее преображение.
* **История 2.3: Вход в Башню Времени**
    * **Как** игрок, **я хочу** войти в «Башню Времени», **чтобы** начать обучение определению времени по часам.
* **История 2.4: Прохождение этажей башни**
    * **Как** игрок, **я хочу** решать головоломки на каждом этаже башни (например, собрать циферблат, выставить стрелки), **чтобы** открывать доступ к следующим этажам и новым знаниям.

#### **Эпик 3: Монетизация и Премиум-доступ**
**Цель:** Интегрировать механизм подписки для разблокировки полного функционала приложения.

* **История 3.1: Экран подписки**
    * **Как** пользователь бесплатной версии, **я хочу** видеть понятный экран с предложением подписки, **чтобы** я мог узнать о преимуществах полной версии и легко ее купить.
* **История 3.2: Блокировка платного контента**
    * **Как** пользователь бесплатной версии, **я хочу** видеть, что некоторые локации (цифры 5-9) заблокированы, **чтобы** я понимал, какой контент станет доступен после покупки.
* **История 3.3: Интеграция биллинга**
    * **Как** разработчик, **я хочу** интегрировать RuStore Billing SDK, **чтобы** приложение могло безопасно обрабатывать внутриигровые покупки.
* **История 3.4: Проверка статуса подписки**
    * **Как** пользователь, оплативший подписку, **я хочу**, чтобы приложение автоматически распознавало мой статус и открывало мне доступ ко всему контенту.

### 7. Результаты проверки по чеклисту
*(Этот раздел будет заполнен Владельцем Продукта (PO) после завершения всех проектных документов)*

### 8. Следующие шаги
* Передача в разработку после финального утверждения.